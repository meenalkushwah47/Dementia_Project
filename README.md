# Dementia Prediction — Local Server

Short guide to set up and run this Flask-based dementia prediction demo locally.

## Project Files

- `server.py` — Flask server that serves `main.html` and exposes `/predict`.
- `model.py` — (optional) script to train/save model artifacts (`dementia_model.pkl`, `label_encoders.pkl`, `feature_names.pkl`).
- `dementia_patients_health_data.csv` — dataset used by `model.py`.
- `main.html`, `main.js`, `main.css` — simple web UI served by the server.
- `requiremet.txt` — Python dependencies (typo preserved from repository).

## Requirements

- Python 3.8+ recommended. Use a virtual environment.
- On Windows PowerShell use the commands below.

## Setup (PowerShell)

```powershell
cd C:\Users\Acer\mlproject
python -m venv venv
.\venv\Scripts\Activate.ps1
pip install --upgrade pip
pip install -r .\requiremet.txt
```

If `pip install -r .\requiremet.txt` fails (binary wheel build errors for `numpy`/`pandas`), try:

```powershell
pip install --upgrade pip setuptools wheel
pip install pandas scikit-learn flask flask-cors
```

## Generate model files (if missing)

The server expects three files in the project root:
`dementia_model.pkl`, `label_encoders.pkl`, and `feature_names.pkl`.
If these files are not present, run:

```powershell
python .\model.py
```

This will (depending on `model.py`) create the pickle artifacts used by `server.py`.

## Run the server

Run the Flask server in the activated venv:

```powershell
python .\server.py
```

Open a browser to: `http://localhost:5000` — this serves `main.html`.

## API: /predict

- Method: `POST`
- Content-Type: `application/json`

Example (curl):

```sh
curl -X POST http://localhost:5000/predict \
  -H "Content-Type: application/json" \
  -d '{"Age":70, "Diabetic":0, "AlcoholLevel":0, "HeartRate":72}'
```

PowerShell example using `Invoke-RestMethod`:

```powershell
$body = @{ Age=70; Diabetic=0; AlcoholLevel=0; HeartRate=72 } | ConvertTo-Json
Invoke-RestMethod -Uri http://localhost:5000/predict -Method Post -Body $body -ContentType 'application/json'
```

The exact expected JSON fields are defined by the `predict` handler in `server.py`. If the server logs a message that model files are not found, run `python model.py` to produce them.

## Troubleshooting

- "The term 'git' is not recognized": Git is not installed or not on PATH. Install Git for Windows if you want to use `git` locally.
- `pandas` or `numpy` build errors: install prebuilt wheels using `pip install pandas` or use a supported Python version (3.8—3.11) where wheels are available.
- If `server.py` prints "⚠️ pandas not available: Data processing and /predict will be disabled.": the server can still start but `/predict` may be disabled until `pandas` and model files are present.

## Git (optional)

To initialize a local repository (after installing Git):

```powershell
cd C:\Users\Acer\mlproject
git init
git add .
git commit -m "Initial commit"
```

## Next steps

- Install dependencies, generate model artifacts with `model.py` if needed, then run `server.py`.
- If you want, open an issue or ask for help here and provide server log output (copy console text).

---

Generated by the development helper — README created to document local setup and run steps.
